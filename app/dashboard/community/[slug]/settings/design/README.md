# Страница настройки дизайна сообщества

## Описание
Страница `/dashboard/community/[slug]/settings/design` позволяет владельцам сообществ настраивать визуальное оформление своей страницы.

## Функциональность

### 1. Загрузка обложки
- Рекомендуемый размер: 1200x400 пикселей
- Поддерживаемые форматы: JPG, PNG
- Превью перед загрузкой
- Возможность удаления текущей обложки

### 2. Загрузка логотипа
- Рекомендуемый размер: 400x400 пикселей  
- Поддерживаемые форматы: JPG, PNG
- Превью с закругленными углами
- Возможность удаления текущего логотипа

### 3. Редактирование основной информации
- **Название сообщества** - обязательное поле
- **Краткое описание** - до 200 символов, обязательное поле
- **Локация** - обязательное поле

### 4. Live-превью
Показывает как будет выглядеть шапка страницы сообщества с текущими настройками.

## Компоненты

### `/page.tsx`
Серверный компонент, который:
- Проверяет авторизацию пользователя
- Загружает данные сообщества
- Проверяет права владельца
- Отображает форму настроек

### `/components/DesignSettingsForm.tsx`
Клиентский компонент формы с:
- Загрузкой изображений с превью
- Валидацией полей
- Live-превью изменений
- Обработкой отправки формы

### `/actions.ts`
Серверные actions для:
- Загрузки изображений в Supabase Storage
- Обновления данных в БД
- Удаления старых изображений
- Инвалидации кеша

## Безопасность

- Проверка авторизации пользователя
- Проверка прав владельца сообщества
- Валидация на стороне сервера
- Безопасная загрузка файлов

## Хранилище

Изображения сохраняются в Supabase Storage:
- Bucket: `communities`
- Структура:
  - `communities/{communityId}/avatar/{filename}`
  - `communities/{communityId}/cover/{filename}`

## Интеграция

Страница доступна через главную страницу настроек:
`/dashboard/community/[slug]/settings` → "Дизайн и внешний вид"

## Использование

1. Перейдите в настройки сообщества
2. Выберите "Дизайн и внешний вид"
3. Загрузите обложку и/или логотип
4. Отредактируйте текстовую информацию
5. Проверьте превью
6. Сохраните изменения

Изменения автоматически отобразятся на публичной странице сообщества.